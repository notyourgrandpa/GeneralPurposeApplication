<div class="nav-container" [class.nav-minimized]="isMinimized">
  <div class="nav-header">
    <div class="logo-container">
      <img src="/assets/img/application.png" alt="Logo" class="logo">
      <span class="brand-name" *ngIf="!isMinimized">KYGM</span>
    </div>
    <button class="toggle-btn" (click)="toggleMinimize()">
      <i class="arrow-icon" [class.left]="!isMinimized" [class.right]="isMinimized"></i>
    </button>
  </div>

  <div class="nav-content">
    <ul class="nav-links">
      <li class="nav-item"
          [routerLink]="['/fetch-data']"
          routerLinkActive="active"
          (click)="setActiveItem('dashboard')">
        <i class="nav-icon dashboard-icon"></i>
        <span class="nav-text" *ngIf="!isMinimized">Fetch-data</span>
        <div class="tooltip" *ngIf="isMinimized">Fetch-data</div>
      </li>
      <li class="nav-item"
          [routerLink]="['/products']"
          routerLinkActive="active"
          (click)="setActiveItem('dashboard')">
        <i class="nav-icon products-icon"></i>
        <span class="nav-text" *ngIf="!isMinimized">Products</span>
        <div class="tooltip" *ngIf="isMinimized">Products</div>
      </li>
      <li class="nav-item"
          [routerLink]="['/categories']"
          routerLinkActive="active"
          (click)="setActiveItem('dashboard')">
        <i class="nav-icon categories-icon"></i>
        <span class="nav-text" *ngIf="!isMinimized">Categories</span>
        <div class="tooltip" *ngIf="isMinimized">Categories</div>
      </li>
    </ul>
  </div>

  <div class="nav-footer">
    <div class="user-info" *ngIf="isLoggedIn && user; else guestInfo">
      <div class="avatar">
        <img [src]="user.avatarUrl || '/assets/img/user-avatar.png'" alt="User">
      </div>
      <div class="user-details" *ngIf="!isMinimized">
        <span class="user-name">{{ user.name }}</span>
        <span class="user-role">{{ user.role }}</span>
      </div>
    </div>
    <ng-template #guestInfo>
      <div class="avatar">
        <img src="/assets/img/user-avatar.png" alt="Guest">
      </div>
      <div class="user-details" *ngIf="!isMinimized">
        <span class="user-name">Guest</span>
        <span class="user-role">Not logged in</span>
      </div>
    </ng-template>
    <button class="logout-btn" [class.icon-only]="isMinimized" (click)="isLoggedIn ? onLogout() : onLogin()">
      <i class="logout-icon" *ngIf="isLoggedIn"></i>
      <i class="login-icon" *ngIf="!isLoggedIn"></i>
      <span *ngIf="!isMinimized">
        {{ isLoggedIn ? 'Logout' : 'Login' }}
      </span>
    </button>
  </div>
</div>
